{"mappings":"AAEA,MACMA,EAAeC,SAASC,cAAc,iBAGtCC,EAASF,SAASG,cAAc,MAChCC,EAAOJ,SAASG,cAAc,OAI9BE,EAAS,IAAIC,gBAAgB,CAC/BC,OAAQ,EACRC,MAAO,IAGEC,MAAM,qCAAqCJ,KAInDK,MAAMC,GACIA,EAASC,SAEnBF,MAAMG,IACHC,QAAQC,IAAI,YAAaF,GACzBC,QAAQC,IAAIF,EAAQG,QAAQ,GAAGC,MAC/BH,QAAQC,IAAIF,EAAQA,SAEpB,MAAMK,EAAYL,EAAQG,QAAQG,KAC9B,CAACC,EAAOC,IACJ,gBAAgBA,EAAQ,kCAAkCD,EAAMH,KAAKK,6BAC3EC,KAAK,IACPnB,EAAKoB,UAAYN,CAAS,IAG7BO,OAAOC,IAAUZ,QAAQC,IAAIW,EAAI,IAKtC3B,EAAa4B,MAAMC,gBAAkB,UACrC7B,EAAa4B,MAAME,MAAQ,QAC3B9B,EAAa+B,OAAO5B,EAAQE,GAI5B,MAAM2B,EAAgB/B,SAASC,cAAc,QACvC+B,EAAWhC,SAASC,cAAc,UAClCgC,EAAajC,SAASC,cAAc,UAC1C,IAAIiC,GAAiB,EAGjBC,EAAO,EAOXJ,EAAcK,iBAAiB,SAAS,KAEtC,GAAID,EALa,GAMf,OAiDJ,WACE,GAAID,EACF,OAEFA,GAAiB,EACjBD,EAAWI,UAAUC,IAAI,cACzBC,YAAW,KACTN,EAAWI,UAAUG,OAAO,cAC5BN,GAAiB,CAAK,GACrB,I,CA1DMO,IAiBX,WACE,MAAMC,EAAS,IAAIpC,gBAAgB,CACjCqC,OA3BQ,EA4BRC,MAAOT,IAGT,OAAO1B,MAAM,8CAA8CiC,KAAUhC,MAClEC,IACC,IAAKA,EAASkC,GACZ,MAAM,IAAIC,MAAMnC,EAASoC,QAE3B,OAAOpC,EAASC,MAAM,G,EAzB1BoC,GACGtC,MAAMuC,KA8BX,SAAqBA,GACnB,MAAMC,EAASD,EACZ9B,KAAI,EAACgC,GAAEA,EAAEC,MAAEA,EAAOC,KAAAC,EAAIC,OAAEA,KAChB,0CACsBH,EAAMI,MAAM,EAAG,0CACnBL,yCACEI,yCACAD,yBAG5B/B,KAAK,IACRS,EAASyB,mBAAmB,YAAaP,E,CAxCrCQ,CAAYT,GAEZd,GAAQ,EAGJA,EAAO,IACTJ,EAAc4B,YAAc,mBAAkB,IAGjDlC,OAAOmC,GAAU9C,QAAQC,IAAI6C,IAAO","sources":["src/index.js"],"sourcesContent":["import './css/styles.css';\n\nconst DEBOUNCE_DELAY = 300;\nconst contentBlock = document.querySelector('.country-info')\n// console.log('contentBlock ', contentBlock)\n\nconst header = document.createElement('h2')\nconst body = document.createElement('div')\n\n// #################################################################\n\nconst params = new URLSearchParams({\n    offset: 1,\n    limit: 5\n});\n\nconst link = fetch(`https://pokeapi.co/api/v2/ability?${params}`)\n// #################################################################\n\nlink\n    .then((response) => {\n        return response.json()\n    })\n    .then((pokemon) => { \n        console.log('pokemon: ', pokemon)\n        console.log(pokemon.results[0].name)\n        console.log(pokemon.pokemon)\n\n        const blockList = pokemon.results.map(\n            (block, index) =>\n                `<p><span>ID: ${index + 1}; Pokemon name:</span>  <span>${block.name.toUpperCase()}</span></p>`\n        ).join('')\n        body.innerHTML = blockList;\n        \n    })\n    .catch((err) => { console.log(err) })\n\n\n// #################################################################\n\ncontentBlock.style.backgroundColor = '#d4858e';\ncontentBlock.style.color = 'white';\ncontentBlock.append(header, body);\n// #################################################################\n\n\nconst fetchPostsBtn = document.querySelector(\".btn\");\nconst userList = document.querySelector(\".posts\");\nconst alertPopup = document.querySelector(\".alert\");\nlet isAlertVisible = false;\n\n// Controls the group number\nlet page = 1;\n// Controls the number of items in the group\nlet limit = 5;\n// In our case total number of pages is calculated on frontend\nconst totalPages = 100 / limit;\n// *****************************************************************\n\nfetchPostsBtn.addEventListener(\"click\", () => {\n  // Check the end of the collection to display an alert\n  if (page > totalPages) {\n    return toggleAlertPopup();\n  }\n\n  fetchPosts()\n    .then((posts) => {\n      renderPosts(posts);\n      // Increase the group number\n      page += 1;\n\n      // Replace button text after first request\n      if (page > 1) {\n        fetchPostsBtn.textContent = \"Fetch more posts\";\n      }\n    })\n    .catch((error) => console.log(error));\n});\n// *****************************************************************\nfunction fetchPosts() {\n  const params = new URLSearchParams({\n    _limit: limit,\n    _page: page\n  });\n\n  return fetch(`https://jsonplaceholder.typicode.com/posts?${params}`).then(\n    (response) => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    }\n  );\n}\n// *****************************************************************\n// *****************************************************************\nfunction renderPosts(posts) {\n  const markup = posts\n    .map(({ id, title, body, userId }) => {\n      return `<li>\n          <h2 class=\"post-title\">${title.slice(0, 30)}</h2>\n          <p><b>Post id</b>: ${id}</p>\n          <p><b>Author id</b>: ${userId}</p>\n          <p class=\"post-body\">${body}</p>\n        </li>`;\n    })\n    .join(\"\");\n  userList.insertAdjacentHTML(\"beforeend\", markup);\n}\n// *****************************************************************\n// *****************************************************************\nfunction toggleAlertPopup() {\n  if (isAlertVisible) {\n    return;\n  }\n  isAlertVisible = true;\n  alertPopup.classList.add(\"is-visible\");\n  setTimeout(() => {\n    alertPopup.classList.remove(\"is-visible\");\n    isAlertVisible = false;\n  }, 3000);\n}"],"names":["$1f0dc3b9307be026$var$contentBlock","document","querySelector","$1f0dc3b9307be026$var$header","createElement","$1f0dc3b9307be026$var$body","$1f0dc3b9307be026$var$params","URLSearchParams","offset","limit","fetch","then","response","json","pokemon","console","log","results","name","blockList","map","block","index","toUpperCase","join","innerHTML","catch","err","style","backgroundColor","color","append","$1f0dc3b9307be026$var$fetchPostsBtn","$1f0dc3b9307be026$var$userList","$1f0dc3b9307be026$var$alertPopup","$1f0dc3b9307be026$var$isAlertVisible","$1f0dc3b9307be026$var$page","addEventListener","classList","add","setTimeout","remove","$1f0dc3b9307be026$var$toggleAlertPopup","params1","_limit","_page","ok","Error","status","$1f0dc3b9307be026$var$fetchPosts","posts","markup","id","title","body","body1","userId","slice","insertAdjacentHTML","$1f0dc3b9307be026$var$renderPosts","textContent","error"],"version":3,"file":"index.217f6dd2.js.map"}