{"mappings":"YAEA,IACMA,EAAeC,SAASC,cAAc,iBAGtCC,EAASF,SAASG,cAAc,MAChCC,EAAOJ,SAASG,cAAc,OAI9BE,EAAS,IAAIC,gBAAgB,CAC/BC,OAAQ,EACRC,MAAO,IAGEC,MAAM,qCAA4CC,OAAPL,IAInDM,MAAK,SAACC,GACH,OAAOA,EAASC,M,IAEnBF,MAAK,SAACG,GACHC,QAAQC,IAAI,YAAaF,GACzBC,QAAQC,IAAIF,EAAQG,QAAQ,GAAGC,MAC/BH,QAAQC,IAAIF,EAAQA,SAEpB,IAAMK,EAAYL,EAAQG,QAAQG,KAC9B,SAACC,EAAOC,G,MACJ,gBAA0DZ,OAA1CY,EAAQ,EAAE,kCAAyDZ,OAAzBW,EAAMH,KAAKK,cAAc,c,IACzFC,KAAK,IACPpB,EAAKqB,UAAYN,C,IAGpBO,OAAM,SAACC,GAAUZ,QAAQC,IAAIW,E,IAKlC5B,EAAa6B,MAAMC,gBAAkB,UACrC9B,EAAa6B,MAAME,MAAQ,QAC3B/B,EAAagC,OAAO7B,EAAQE,GAI5B,IAAM4B,EAAgBhC,SAASC,cAAc,QACvCgC,EAAWjC,SAASC,cAAc,UAClCiC,EAAalC,SAASC,cAAc,UACtCkC,GAAiB,EAGjBC,EAAO,EAOXJ,EAAcK,iBAAiB,SAAS,WAEtC,GAAID,EALa,GAMf,OAiDJ,WACE,GAAID,EACF,OAEFA,GAAiB,EACjBD,EAAWI,UAAUC,IAAI,cACzBC,YAAW,WACTN,EAAWI,UAAUG,OAAO,cAC5BN,GAAiB,C,GAChB,I,CA1DMO,GAiBX,IACQC,KAAS,IAAIrC,gBAAgB,CACjCsC,OA3BQ,EA4BRC,MAAOT,IAGF3B,MAAM,8CAAqDC,OAAPiC,IAAUhC,MACnE,SAACC,GACC,IAAKA,EAASkC,GACZ,MAAM,IAAIC,MAAMnC,EAASoC,QAE3B,OAAOpC,EAASC,M,KAxBjBF,MAAK,SAACsC,IA8BX,SAAqBA,GACnB,IAAMC,EAASD,EACZ7B,KAAI,SAAA+B,G,IAAGC,EAAED,EAAFC,GAAIC,EAAKF,EAALE,MAAOC,EAAIH,EAAJI,KAAMC,EAAML,EAANK,OACvB,MAAO,0CAEkB9C,OADI2C,EAAMI,MAAM,EAAG,IAAI,wCAErB/C,OADF0C,EAAG,yCAED1C,OADA8C,EAAO,yCACF9C,OAAL4C,EAAK,sB,IAGjC9B,KAAK,IACRS,EAASyB,mBAAmB,YAAaR,E,CAxCrCS,CAAYV,IAEZb,GAAQ,GAGG,IACTJ,EAAc4B,YAAc,mB,IAG/BlC,OAAM,SAACmC,G,OAAU9C,QAAQC,IAAI6C,E","sources":["src/index.js"],"sourcesContent":["import './css/styles.css';\n\nconst DEBOUNCE_DELAY = 300;\nconst contentBlock = document.querySelector('.country-info')\n// console.log('contentBlock ', contentBlock)\n\nconst header = document.createElement('h2')\nconst body = document.createElement('div')\n\n// #################################################################\n\nconst params = new URLSearchParams({\n    offset: 1,\n    limit: 5\n});\n\nconst link = fetch(`https://pokeapi.co/api/v2/ability?${params}`)\n// #################################################################\n\nlink\n    .then((response) => {\n        return response.json()\n    })\n    .then((pokemon) => { \n        console.log('pokemon: ', pokemon)\n        console.log(pokemon.results[0].name)\n        console.log(pokemon.pokemon)\n\n        const blockList = pokemon.results.map(\n            (block, index) =>\n                `<p><span>ID: ${index + 1}; Pokemon name:</span>  <span>${block.name.toUpperCase()}</span></p>`\n        ).join('')\n        body.innerHTML = blockList;\n        \n    })\n    .catch((err) => { console.log(err) })\n\n\n// #################################################################\n\ncontentBlock.style.backgroundColor = '#d4858e';\ncontentBlock.style.color = 'white';\ncontentBlock.append(header, body);\n// #################################################################\n\n\nconst fetchPostsBtn = document.querySelector(\".btn\");\nconst userList = document.querySelector(\".posts\");\nconst alertPopup = document.querySelector(\".alert\");\nlet isAlertVisible = false;\n\n// Controls the group number\nlet page = 1;\n// Controls the number of items in the group\nlet limit = 5;\n// In our case total number of pages is calculated on frontend\nconst totalPages = 100 / limit;\n// *****************************************************************\n\nfetchPostsBtn.addEventListener(\"click\", () => {\n  // Check the end of the collection to display an alert\n  if (page > totalPages) {\n    return toggleAlertPopup();\n  }\n\n  fetchPosts()\n    .then((posts) => {\n      renderPosts(posts);\n      // Increase the group number\n      page += 1;\n\n      // Replace button text after first request\n      if (page > 1) {\n        fetchPostsBtn.textContent = \"Fetch more posts\";\n      }\n    })\n    .catch((error) => console.log(error));\n});\n// *****************************************************************\nfunction fetchPosts() {\n  const params = new URLSearchParams({\n    _limit: limit,\n    _page: page\n  });\n\n  return fetch(`https://jsonplaceholder.typicode.com/posts?${params}`).then(\n    (response) => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    }\n  );\n}\n// *****************************************************************\n// *****************************************************************\nfunction renderPosts(posts) {\n  const markup = posts\n    .map(({ id, title, body, userId }) => {\n      return `<li>\n          <h2 class=\"post-title\">${title.slice(0, 30)}</h2>\n          <p><b>Post id</b>: ${id}</p>\n          <p><b>Author id</b>: ${userId}</p>\n          <p class=\"post-body\">${body}</p>\n        </li>`;\n    })\n    .join(\"\");\n  userList.insertAdjacentHTML(\"beforeend\", markup);\n}\n// *****************************************************************\n// *****************************************************************\nfunction toggleAlertPopup() {\n  if (isAlertVisible) {\n    return;\n  }\n  isAlertVisible = true;\n  alertPopup.classList.add(\"is-visible\");\n  setTimeout(() => {\n    alertPopup.classList.remove(\"is-visible\");\n    isAlertVisible = false;\n  }, 3000);\n}"],"names":["$b8f9b7833fa37166$var$contentBlock","document","querySelector","$b8f9b7833fa37166$var$header","createElement","$b8f9b7833fa37166$var$body","$b8f9b7833fa37166$var$params","URLSearchParams","offset","limit","fetch","concat","then","response","json","pokemon","console","log","results","name","blockList","map","block","index","toUpperCase","join","innerHTML","catch","err","style","backgroundColor","color","append","$b8f9b7833fa37166$var$fetchPostsBtn","$b8f9b7833fa37166$var$userList","$b8f9b7833fa37166$var$alertPopup","$b8f9b7833fa37166$var$isAlertVisible","$b8f9b7833fa37166$var$page","addEventListener","classList","add","setTimeout","remove","$b8f9b7833fa37166$var$toggleAlertPopup","params1","_limit","_page","ok","Error","status","posts","markup","param","id","title","body1","body","userId","slice","insertAdjacentHTML","$b8f9b7833fa37166$var$renderPosts","textContent","error"],"version":3,"file":"index.56b9c36d.js.map"}